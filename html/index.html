{% extends './layout.html' %}{% block title -%}{% if tag %}标签 {{tag}} - {% elif cate %}分类 {{cate}} - {% endif %}{{options.title}}{%- endblock %}{% block headers -%} <link rel="canonical" href="{{site_url}}/{% if tag %}tag/{{pathname}}{% elif cate %}cate/{{pathname}}{% endif %}{% if pagination.currentPage > 1 %}?page={{pagination.currentPage}}{% endif %}">{%- endblock %}{% block content %} <section id="page-index"> {% if tag %} <h1 class="intro">标签 <a href="{{site_url}}{{http.url}}">{{tag}}</a>下的文章</h1> {% elif cate %} <h1 class="intro">分类 <a href="{{site_url}}{{http.url}}">{{cate}}</a>下的文章</h1> {% endif %} {% for post in posts %} <article class="post {% if loop.index % 2 == 0 %}dark-card{% endif %}"><h1 class="title"><a href="/post/{{post.pathname}}.html">{{post.title | title | trim | truncate(20)}}</a></h1><div class="meta"> {% if post.user %} <span class="author"> {% set user = post.user %} {% if user.display_name %}{{user.display_name}}{% else %}{{user.name}}{% endif %}</span><span>发布于</span> {% endif %} <span class="date">{{think.datetime(post.create_time, 'MM月DD, YYYY')}}</span></div><div class="entry-content"> {{post.summary | safe | trim | truncate(200) | text}}</div><div class="more"><a href="/post/{{post.pathname}}.html">阅读全文 »</a></div></article> {% endfor %} <div class="pagination"> {% if pagination.currentPage == 1 %} <div class="prev page">前</div> {% endif %} {% if pagination.currentPage > 1 %} {% set prev = pagination.currentPage - 1 %} <a href="{{prev | pagination}}" class="prev page">前</a> {% endif %} {% if pagination.currentPage
    < pagination.totalPages %} {% set next=p agination.currentPage + 1 %}<a href="{{next | pagination}}" class="next page">后</a> {% endif %} {% if pagination.currentPage == pagination.totalPages %} <div class="next page">后</div> {% endif %}</div></section>{% endblock %}